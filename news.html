<html>
    <head>
        <title>AND - NEWS</title>
        <link rel="icon" href="/img/logo.png">
        <link href="styles/style.css" rel="stylesheet" type="text/css" />
        <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js"></script>
        <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js"></script>
        <style>
            body { font-family: "Pretendard", sans-serif; margin: 40px; background: #f8f8f8; }
            h1 { text-align: center; }
            .board { max-width: 600px; margin: auto; }
            input, textarea { width: 100%; margin: 5px 0; padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
            button { padding: 10px 15px; background: #333; color: white; border: none; border-radius: 5px; cursor: pointer; }
            button:hover { background: #555; }
            .post { background: white; padding: 15px; margin: 10px 0; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
            .post h3 { margin: 0 0 5px 0; }
            .post small { color: gray; }
        </style>
    </head>
    <body>
        <div style="height: 5000px; overflow-y: scroll;">
            <div class="UPPERBAR">
                <div class="UB2">
                    <a href="https://nameless-hoshi.github.io/NEUTRONDIVISION.io/">
                        <img src="img/logo.png" title="home" style="width:150px; height:150px;">
                    </a>
                </div>
                <ui class="UB1">
                    <li><a href="https://nameless-hoshi.github.io/NEUTRONDIVISION.io/info" title="what about us">INFO</a></li>
                    <li><a href="https://nameless-hoshi.github.io/NEUTRONDIVISION.io/philosophy" title="our philosophy">OUR PHILOSOPHY</a></li>
                    <li><a href="https://nameless-hoshi.github.io/NEUTRONDIVISION.io/news" title="news">NEWS</a></li>
                    <li><a href="https://nameless-hoshi.github.io/NEUTRONDIVISION.io/creation" title="creation">CREATION</a></li>
                    <li><a href="https://nameless-hoshi.github.io/NEUTRONDIVISION.io/hero" title="hero">HERO</a></li>
                </ui>
            </div>
        </div>


        <h1>üî• Firebase Í≤åÏãúÌåê</h1>
        <div class="board">
            <input id="title" placeholder="Ï†úÎ™©">
            <textarea id="content" placeholder="ÎÇ¥Ïö©"></textarea>
            <button id="postBtn">Í∏Ä Ïò¨Î¶¨Í∏∞</button>
            <hr>
            <div id="posts"></div>
        </div>
        <script type="module">


            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs, query, orderBy } 
      from "https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore.js";

        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAisg8efEgG-n63thSqWtvW2d2lqUEe7Dw",
            authDomain: "neutrondivision.firebaseapp.com",
            projectId: "neutrondivision",
            storageBucket: "neutrondivision.firebasestorage.app",
            messagingSenderId: "679702672783",
            appId: "1:679702672783:web:714b0e3775d3e1083fc7fa"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function loadPosts() {
      const q = query(collection(db, "posts"), orderBy("time", "desc"));
      const snap = await getDocs(q);
      const postsDiv = document.getElementById("posts");
      postsDiv.innerHTML = "";
      snap.forEach(doc => {
        const p = doc.data();
        postsDiv.innerHTML += `
          <div class="post">
            <h3>${p.title}</h3>
            <p>${p.content}</p>
            <small>${p.time}</small>
          </div>`;
      });
    }

    document.getElementById("postBtn").onclick = async () => {
      const title = document.getElementById("title").value.trim();
      const content = document.getElementById("content").value.trim();
      if (!title || !content) return alert("Ï†úÎ™©Í≥º ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî!");
      await addDoc(collection(db, "posts"), { 
        title, 
        content, 
        time: new Date().toLocaleString() 
      });
      document.getElementById("title").value = "";
      document.getElementById("content").value = "";
      loadPosts();
    };

    loadPosts();
        </script>
        
    </body>
</html>